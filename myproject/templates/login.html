{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Instructor Login - ASCREM</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>

<body>
  <!-- Animated particles -->
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>

  <div class="login-wrapper">
    <div class="login-container">

      <!-- LEFT PANEL -->
      <div class="left-panel">
        <div class="logo-container">
          <img src="{% static 'images/ascrem_logo.png' %}" alt="ASCREM Logo">
        </div>
        <h3>AUTOMATED STUDENT CLASS RECORD MONITORING WEB APPLICATION</h3>
        <ul class="feature-list">
          <li>Automated Attendance Tracking</li>
          <li>Easy Score Input & Grade Computation</li>
          <li>Real-Time Class Monitoring</li>
          <li>Instant Report Generation</li>
          <li>Secure Faculty Login & Data Protection</li>
        </ul>
      </div>

      <!-- RIGHT PANEL -->
      <div class="right-panel">
        <div class="top-buttons">
          <a href="{% url 'login' %}" class="active">Login</a>
          <a href="{% url 'register' %}">Register</a>
        </div>

        <h2>Instructor Login</h2>

        {% if messages %}
          {% for message in messages %}
            <div class="alert">{{ message }}</div>
          {% endfor %}
        {% endif %}

        <form method="post">
          {% csrf_token %}

          <!-- Instructor ID with Floating Label -->
          <div class="form-group">
            <input type="text" name="instructor_id" class="floating-input" placeholder=" " maxlength="20" required>
            <i class="bi bi-person-badge-fill input-icon"></i>
            <label class="floating-label">Instructor ID</label>
          </div>

          <!-- Password with Floating Label -->
          <div class="form-group">
            <input type="password" name="password" class="floating-input" placeholder=" " maxlength="4" minlength="4" required>
            <i class="bi bi-lock-fill input-icon"></i>
            <label class="floating-label">Password (4 characters)</label>
            <div class="password-strength">
              <div class="strength-bar"></div>
            </div>
          </div>

          <button type="submit" name="login_submit" class="btn-login">
            <span>Login</span>
          </button>
        </form>

        <div class="register-link">
          Don't have an account? <a href="{% url 'register' %}">Register here</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Add interactive password strength indicator
    const passwordInput = document.querySelector('input[name="password"]');
    const strengthBar = document.querySelector('.strength-bar');

    if (passwordInput && strengthBar) {
      passwordInput.addEventListener('input', function() {
        const length = this.value.length;
        const percentage = (length / 4) * 100;
        strengthBar.style.width = percentage + '%';
      });
    }

    // Add ripple effect to button
    const loginBtn = document.querySelector('.btn-login');
    loginBtn.addEventListener('click', function(e) {
      const ripple = document.createElement('span');
      const rect = this.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      const x = e.clientX - rect.left - size / 2;
      const y = e.clientY - rect.top - size / 2;

      ripple.style.width = ripple.style.height = size + 'px';
      ripple.style.left = x + 'px';
      ripple.style.top = y + 'px';
      ripple.classList.add('ripple');

      this.appendChild(ripple);

      setTimeout(() => ripple.remove(), 600);
    });
  </script>
</body>
</html>